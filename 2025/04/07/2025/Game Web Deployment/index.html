
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Game Web Deployment &amp; JS interop | LunarEclipse&#39;s Home</title>
    <meta name="author" content="Lunar Eclipse" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <link rel="icon" href="/images/avatar.png" />
    <link rel="preconnect" href="https://s4.zstatic.net" />
<script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.googleapis.cn" />
<link rel="preconnect" href="https://fonts.gstatic.cn" crossorigin />
<link
    rel="stylesheet"
    href="https://fonts.googleapis.cn/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap"
/>
<script> const mixins = {}; </script>

<script src="https://polyfill.alicdn.com/v3/polyfill.min.js?features=default"></script>


<script src="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>



<script src="/js/lib/preview.js"></script>





<script src="https://s4.zstatic.net/ajax/libs/gitalk/1.8.0/gitalk.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/gitalk/1.8.0/gitalk.min.css" />





<link rel="stylesheet" href="/css/main.css" />


<!-- Custom -->

<link rel="stylesheet" href="/css/custom.css" />
<!-- <script src="/js/custom.js"></script> -->

<script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>
<canvas id="fireworks" style="position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:2147483647"></canvas>
<script src="/js/fireworks.js"></script>
<canvas id="background" style="position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:-1"></canvas>
<script src="/js/background.js"></script>
<script src="/js/pocket.gl.min.js"></script>


<script src="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/languages/dart.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/languages/gdscript.min.js"></script>
<script>hljs.registerLanguage("gdscript",function(){"use strict";var e=e||{};function r(e){return{aliases:["godot","gdscript"],keywords:{keyword:"and in not or self void as assert breakpoint class class_name extends is func setget signal tool yield const enum export onready static var break continue if elif else for pass return match while remote sync master puppet remotesync mastersync puppetsync",built_in:"Color8 ColorN abs acos asin atan atan2 bytes2var cartesian2polar ceil char clamp convert cos cosh db2linear decimals dectime deg2rad dict2inst ease exp floor fmod fposmod funcref get_stack hash inst2dict instance_from_id inverse_lerp is_equal_approx is_inf is_instance_valid is_nan is_zero_approx len lerp lerp_angle linear2db load log max min move_toward nearest_po2 ord parse_json polar2cartesian posmod pow preload print_stack push_error push_warning rad2deg rand_range rand_seed randf randi randomize range_lerp round seed sign sin sinh smoothstep sqrt step_decimals stepify str str2var tan tanh to_json type_exists typeof validate_json var2bytes var2str weakref wrapf wrapi bool int float String NodePath Vector2 Rect2 Transform2D Vector3 Rect3 Plane Quat Basis Transform Color RID Object NodePath Dictionary Array PoolByteArray PoolIntArray PoolRealArray PoolStringArray PoolVector2Array PoolVector3Array PoolColorArray",literal:"true false null"},contains:[e.NUMBER_MODE,e.HASH_COMMENT_MODE,{className:"comment",begin:/"""/,end:/"""/},e.QUOTE_STRING_MODE,{variants:[{className:"function",beginKeywords:"func"},{className:"class",beginKeywords:"class"}],end:/:/,contains:[e.UNDERSCORE_TITLE_MODE]}]}}return e.exports=function(e){e.registerLanguage("gdscript",r)},e.exports.definer=r,e.exports.definer||e.exports}());</script>

<meta name="generator" content="Hexo 6.3.0"></head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>åŠ è½½è¿‡æ…¢è¯·å¼€å¯ç¼“å­˜ æµè§ˆå™¨é»˜è®¤å¼€å¯</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>LUNARECLIPSE&#39;S HOME</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;LUNARECLIPSE&#39;S HOME</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div class="article">
    <div>
        <h1>Game Web Deployment &amp; JS interop</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2025/4/7
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            
            <span class="tag">
                
                <a href="/tags/Godot/" style="color: #03a9f4">
                    Godot
                </a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <iframe width="100%" id="game" src="https://www.lunareclipse.cc/Games/" scrolling="no" frameBorder="0" allowfullscreen style="aspect-ratio: 16/9; width: 100%;" onload="onIframeLoaded();"></iframe>

<p><button type="button" onclick="godot.changeExpression('normal')">ğŸ™‚</button> <button type="button" onclick="godot.changeExpression('happy')">ğŸ˜‡</button> <button type="button" onclick="godot.changeExpression('angry')">ğŸ˜¡</button> <button type="button" onclick="godot.changeExpression('> <')">ğŸ˜</button> <button type="button" onclick="godot.changeExpression('ehehe')">ğŸ¤¤</button> <button type="button" onclick="godot.changeExpression('o')">ğŸ˜¯</button> <button type="button" onclick="godot.changeExpression('embarrassed')">ğŸ˜¦</button> <button type="button" onclick="godot.changeExpression('donbiki')">ğŸ˜¨</button> <button type="button" onclick="godot.changeExpression('sigh')">ğŸ˜®â€ğŸ’¨</button> <button type="button" onclick="godot.changeExpression('- -')">ğŸ˜Œ</button> <button type="button" onclick="godot.changeExpression('@ @')">ğŸ˜µâ€ğŸ’«</button> <button type="button" onclick="godot.changeExpression('star')">ğŸ¤©</button> <button type="button" onclick="godot.changeExpression('o_o')">ğŸ˜±</button></p>
<p>Emoji ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ã‚¢ãƒ­ãƒŠã¡ã‚ƒã‚“ã®è¡¨æƒ…ã‚’å¤‰ãˆã‚ˆã†ï¼</p>
<span id="more"></span>

<br>

<h2 id="ç›®éŒ²"><a href="#ç›®éŒ²" class="headerlink" title="ç›®éŒ²"></a>ç›®éŒ²</h2><ul>
<li><a href="#%E7%9B%AE%E9%8C%B2">ç›®éŒ²</a></li>
<li><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB">ã¯ã˜ã‚ã«</a></li>
<li><a href="#%E3%82%B2%E3%83%BC%E3%83%A0%E3%82%92%E3%82%A8%E3%82%AF%E3%82%B9%E3%83%9D%E3%83%BC%E3%83%88">ã‚²ãƒ¼ãƒ ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</a></li>
<li><a href="#%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4">ãƒ‡ãƒ—ãƒ­ã‚¤</a><ul>
<li><a href="#1-%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%A7%E8%B5%B7%E5%8B%95">1. ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã§èµ·å‹•</a></li>
<li><a href="#2-%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AB%E3%82%A2%E3%83%83%E3%83%97%E3%83%AD%E3%83%BC%E3%83%89">2. ãƒªãƒ¢ãƒ¼ãƒˆã‚µãƒ¼ãƒãƒ¼ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</a></li>
<li><a href="#3-iframe-%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%82%B2%E3%83%BC%E3%83%A0%E3%82%92%E5%9F%8B%E3%82%81%E8%BE%BC%E3%82%80">3. iframe ã‚’ä½¿ã£ã¦ã‚²ãƒ¼ãƒ ã‚’åŸ‹ã‚è¾¼ã‚€</a></li>
</ul>
</li>
<li><a href="#javascript-%E3%81%A8%E9%80%9A%E4%BF%A1">JavaScript ã¨é€šä¿¡</a><ul>
<li><a href="#iframe-%E3%82%92%E4%BD%BF%E3%81%86%E5%A0%B4%E5%90%88">iframe ã‚’ä½¿ã†å ´åˆ</a></li>
</ul>
</li>
</ul>
<br>

<h2 id="ã¯ã˜ã‚ã«"><a href="#ã¯ã˜ã‚ã«" class="headerlink" title="ã¯ã˜ã‚ã«"></a>ã¯ã˜ã‚ã«</h2><p>ã“ã®æ–‡ç« ã¯ã€Godot ã§ä½œã£ãŸã‚²ãƒ¼ãƒ ã‚’ Web ä¸Šã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã‚„ã‚²ãƒ¼ãƒ ã¨ JavaScript ã®é–“ã«é€šä¿¡ã™ã‚‹æ–¹æ³•ã‚’èª¬æ˜ã—ã¾ã™ã€‚</p>
<br>

<h2 id="ã‚²ãƒ¼ãƒ ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ"><a href="#ã‚²ãƒ¼ãƒ ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ" class="headerlink" title="ã‚²ãƒ¼ãƒ ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ"></a>ã‚²ãƒ¼ãƒ ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</h2><p>Godot ã‚’ä½¿ç”¨ã—ã¦ Web ä¸Šã§ã‚²ãƒ¼ãƒ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é…å¸ƒã™ã‚‹ã“ã¨ã¯ã‹ãªã‚Šç°¡å˜ã§ã™ã€‚<br>å…ˆãšã€Godot å´ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å‡ºåŠ›ã—ã¾ã™ã€‚ã“ã®éšæ®µã®èª¬æ˜ã¯çœç•¥ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚</p>
<p>å‡ºåŠ›ã—ãŸã‚‚ã®ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼š</p>
<details><summary>Output detail å±•é–‹</summary>
<div>

<p>output&#x2F;<br>â”œâ”€ libspine_godot.web.template_release.wasm32.nothreads.wasm<br>â”œâ”€ game.apple-touch-icon.png<br>â”œâ”€ game.audio.position.worklet.js<br>â”œâ”€ game.audio.worklet.js<br>â”œâ”€ game.icon.png<br>â”œâ”€ game.js<br>â”œâ”€ game.pck<br>â”œâ”€ game.png<br>â”œâ”€ game.side.wasm<br>â”œâ”€ game.wasm<br>â””â”€ game.html</p>
</div>
</details>

<p><strong>Note</strong>: Web ã«è¡¨ç¤ºã™ã‚‹ãŸã‚ã«ã€html ãƒ•ã‚¡ã‚¤ãƒ«ã®åå‰ã‚’ <code>index.html</code> ã«å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<br>

<h2 id="ãƒ‡ãƒ—ãƒ­ã‚¤"><a href="#ãƒ‡ãƒ—ãƒ­ã‚¤" class="headerlink" title="ãƒ‡ãƒ—ãƒ­ã‚¤"></a>ãƒ‡ãƒ—ãƒ­ã‚¤</h2><h4 id="1-ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã§èµ·å‹•"><a href="#1-ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã§èµ·å‹•" class="headerlink" title="1. ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã§èµ·å‹•"></a>1. ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã§èµ·å‹•</h4><ol>
<li><a target="_blank" rel="noopener" href="https://nodejs.org/">Node.js</a> ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</li>
<li>command line (windows ã§ã¯ ctrl + R ã§ <code>cmd</code> ã‚’å…¥åŠ›ã—ã¦å®Ÿè¡Œ) <code>cd &lt;path&gt;</code> ã§å‡ºåŠ›ã—ãŸãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¾ã™ã€‚</li>
<li><code>npx http-server</code> ã‚’å®Ÿè¡Œã—ã¦ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¾ã™ã€‚</li>
</ol>
<h4 id="2-ãƒªãƒ¢ãƒ¼ãƒˆã‚µãƒ¼ãƒãƒ¼ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰"><a href="#2-ãƒªãƒ¢ãƒ¼ãƒˆã‚µãƒ¼ãƒãƒ¼ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰" class="headerlink" title="2. ãƒªãƒ¢ãƒ¼ãƒˆã‚µãƒ¼ãƒãƒ¼ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰"></a>2. ãƒªãƒ¢ãƒ¼ãƒˆã‚µãƒ¼ãƒãƒ¼ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</h4><p>ã“ã‚Œã‹ã‚‰ GitHub Pages ã‚’ä¾‹ã«èª¬æ˜ã—ã¾ã™ã€‚ä»–ã®ã‚µãƒ¼ãƒãƒ¼ã§ã‚‚ä¼¼ãŸã‚ˆã†ãªæ©Ÿèƒ½ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚</p>
<ol>
<li>å…ˆãšã€<a target="_blank" rel="noopener" href="https://docs.github.com/ja/pages/quickstart">GitHub Pagesã®ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ</a> ã®æ‰‹é †ã«å¾“ã£ã¦ã€GitHub Pages ã®åˆæœŸåŒ–ã‚’è¡Œã„ã¾ã™ã€‚<br>è¦ã™ã‚‹ã«ã€&lt;username&gt;.github.io ã¨ã„ã†ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã¦ã€ãã“ã« <code>index.html</code> ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚‰ã€<a href="">https:&#x2F;&#x2F;&lt;username&gt;.github.io&#x2F;</a> ã¨ã„ã†ã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</li>
<li>[Optional] <img src="/media/Pasted%20image%2020250415022040.png" alt="fr 50%">GitHub Pages ã¯è¤‡æ•°ã®ãƒªãƒã‚¸ãƒˆãƒªã«å¯¾å¿œã§ãã¾ã™ã‹ã‚‰ã€Game å°‚ç”¨ãƒšãƒ¼ã‚¸ã‚’ä½œã‚ŠãŸã„ãªã‚‰ã€æ–°ã—ã„ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã€Settings &gt; Pages &gt; Branch ã§ main ã‚’é¸æŠã—ã¦ä¿å­˜ã€‚ãã—ã¦ã€æ–°ã—ã„ãƒšãƒ¼ã‚¸ã® URL ã¯ <a href="">https:&#x2F;&#x2F;&lt;username&gt;.github.io&#x2F;&lt;repo&gt;&#x2F;</a> ã«ãªã‚Šã¾ã™ã€‚</li>
<li>ã‚²ãƒ¼ãƒ ãªã‚‰ã€ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ« (.htmlã€.wasmã€.pckã€.js â€¦) ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã¨ã€ä¸Šè¨˜ã® URL ã§ãƒ—ãƒ¬ã‚¤ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</li>
</ol>
<!-- 1. Github desktop

    1. GitHub Desktop ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
    2. `File` > `Add local repository` ã§ã€å‡ºåŠ›ã—ãŸãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠã—ã¾ã™ã€‚
    3. `Publish repository` ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€GitHub ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚ 

1. Git bash

    ``` bash
    cd <game-path>
    git init
    git remote add origin https://github.com/<username>/<repo>.git
    git add .
    git commit -m "Initial commit"
    git push -u origin master
    ``` 
-->

<p>ãŠã¾ã‘ã«ã€Cloudflare ã‚’ä¸€ç·’ã«ä½¿ç”¨ã—ã¦ã€ç‹¬è‡ªã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¨­å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚æ–‡ç« ã®é•·ã•ã‚†ãˆã«ã€ã“ã“ã§ã¯çœç•¥ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚å…·ä½“çš„ãªå†…å®¹ã¯ã€<a target="_blank" rel="noopener" href="https://docs.github.com/ja/pages/configuring-a-custom-domain-for-your-github-pages-site/about-custom-domains-and-github-pages">ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨GitHub Pagesã«ã¤ã„ã¦</a> ã¨ <a target="_blank" rel="noopener" href="https://developers.cloudflare.com/registrar/get-started/register-domain/">Register a new domain Â· Cloudflare</a> ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://www.lunareclipse.cc/Games/">https://www.lunareclipse.cc/Games/</a> ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€å†’é ­ã®ãƒ‡ãƒ¢ã‚’ãƒ—ãƒ¬ã‚¤ã§ãã¾ã™ã€‚</p>
<h4 id="3-iframe-ã‚’ä½¿ã£ã¦ã‚²ãƒ¼ãƒ ã‚’åŸ‹ã‚è¾¼ã‚€"><a href="#3-iframe-ã‚’ä½¿ã£ã¦ã‚²ãƒ¼ãƒ ã‚’åŸ‹ã‚è¾¼ã‚€" class="headerlink" title="3. iframe ã‚’ä½¿ã£ã¦ã‚²ãƒ¼ãƒ ã‚’åŸ‹ã‚è¾¼ã‚€"></a>3. iframe ã‚’ä½¿ã£ã¦ã‚²ãƒ¼ãƒ ã‚’åŸ‹ã‚è¾¼ã‚€</h4><p>ã‚‚ã—ã“ã®ãƒ–ãƒ­ã‚°ã¿ãŸã„ã«ã€ã»ã‹ã® Web ãƒšãƒ¼ã‚¸ã«ã‚²ãƒ¼ãƒ ã‚’åŸ‹ã‚è¾¼ã¿ãŸã„ãªã‚‰ã€ä»¥ä¸‹ã®ã‚ˆã†ã« iframe ã‚’ html ã‚³ãƒ¼ãƒ‰ã«è¿½åŠ ã—ã¦ã€ã‚²ãƒ¼ãƒ ã‚’åŸ‹ã‚è¾¼ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<pre><code class="html">&lt;iframe id=&quot;game&quot; 
    src=&quot;https://www.lunareclipse.cc/Games/&quot; 
    scrolling=&quot;no&quot; 
    frameBorder=&quot;0&quot; 
    allowfullscreen 
    style=&quot;width: 100%; max-width: 100%; aspect-ratio: 16/9;&quot;&gt;
&lt;/iframe&gt;
</code></pre>
<br>

<h2 id="JavaScript-ã¨é€šä¿¡"><a href="#JavaScript-ã¨é€šä¿¡" class="headerlink" title="JavaScript ã¨é€šä¿¡"></a>JavaScript ã¨é€šä¿¡</h2><p>å…ˆãšã€Godot å´ã§ <code>JavaScriptBridge.eval()</code> ã‚’ä½¿ç”¨ã—ã¦ã€JavaScript å´ã« <code>godot</code> ã¨ã„ã†åå‰ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚</p>
<pre><code class="gdscript">JavaScriptBridge.eval(&quot;&quot;&quot;
if (godot == undefined)
  var godot = &#123; &#125;;  
&quot;&quot;&quot;, true)
</code></pre>
<p>ãã—ã¦ã€ã“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã« <code>changeExpression</code> ã¨ã„ã†ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã—ã¦ã€Godot å´ã® <code>arona.set_expression()</code> ãƒ¡ã‚½ãƒƒãƒ‰ã«ãƒªãƒ³ã‚¯ã—ã¾ã™ã€‚</p>
<details><summary>class JS</summary>
<div>

<pre><code class="gdscript">class_name JS extends Node  
  
static var godot: JavaScriptObject # JavaScript Bridge  
static var callbacks: Dictionary[String, JavaScriptObject] = &#123;&#125;  
  
static func _static_init():  
    if not OS.has_feature(&quot;web&quot;):  
       print(&quot;JavaScript is not supported on this platform.&quot;)  
       return  
  
    JavaScriptBridge.eval(&quot;&quot;&quot;
if (godot == undefined)
  var godot = &#123; &#125;;  
&quot;&quot;&quot;, true)  
  
    godot = JavaScriptBridge.get_interface(&quot;godot&quot;)  
    print(&quot;[JS] Godot bridge initialized.&quot;)  
  
static func add_callback(function: Callable, js_name: String = &quot;&quot;) -&gt; void:  
    if js_name in callbacks:  
       print(&quot;[JS] Callback already exists.&quot;)  
       return  
       var callback_ref: JavaScriptObject = JavaScriptBridge.create_callback(function.callv)  
    if callback_ref == null:  
       print(&quot;[JS] Failed to create callback.&quot;)  
       return  
  
    if js_name.is_empty():  
       js_name = function.get_method().get_basename()      
  
    callbacks[js_name] = callback_ref  
    godot.set(js_name, callback_ref)  
  
static func remove_callback(js_name: String) -&gt; void:  
    if js_name in callbacks:  
       godot.set(js_name, null)  
       callbacks[js_name].free()  
       callbacks.erase(js_name)  
    else:  
       print(&quot;[JS] Callback not found.&quot;)
</code></pre>
</div>
</details>

<pre><code class="gdscript">JS.add_callback(arona.set_expression, &quot;changeExpression&quot;)
</code></pre>
<p>ã“ã‚Œã§ã€JavaScript å´ã§ <code>godot.changeExpression()</code> ã‚’å‘¼ã³å‡ºã™ã¨ã€Godot å´ã® <code>arona.set_expression()</code> ãŒå‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚</p>
<pre><code class="js">godot.changeExpression(&#39;happy&#39;)
</code></pre>
<p><a target="_blank" rel="noopener" href="https://www.lunareclipse.cc/Games/">Game</a> ãƒšãƒ¼ã‚¸ã§ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€Ctrl+Shift+C ã‚’æŠ¼ã—ã¦ DevTools ã‚’é–‹ã„ã¦ã€Console ã«ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ãŸã‚‰ã€Emoji ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨åŒã˜ã‚ˆã†ã«ã‚¢ãƒ­ãƒŠã¡ã‚ƒã‚“ã®è¡¨æƒ…ãŒå¤‰ã‚ã‚‹ã¯ãšã§ã™ã€‚</p>
<br>

<h4 id="iframe-ã‚’ä½¿ã†å ´åˆ"><a href="#iframe-ã‚’ä½¿ã†å ´åˆ" class="headerlink" title="iframe ã‚’ä½¿ã†å ´åˆ"></a>iframe ã‚’ä½¿ã†å ´åˆ</h4><p>iframe ã‚’ä½¿ã£ãŸå ´åˆã€iframe ã« <code>onload</code> ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ ã—ã¦ï¼š</p>
<pre><code class="html">&lt;iframe id=&quot;game&quot; 
    src=&quot;https://www.lunareclipse.cc/Games/&quot; 
    scrolling=&quot;no&quot; 
    frameBorder=&quot;0&quot; 
    allowfullscreen 
    onload=&quot;onIframeLoaded();&quot; 
    style=&quot;width: 100%; max-width: 100%; aspect-ratio: 16/9;&quot;&gt;
&lt;/iframe&gt;

&lt;script&gt;
function onIframeLoaded() &#123;
    game = document.getElementById(&quot;game&quot;);
    godot = game.contentWindow.godot;
&#125;
&lt;/script&gt;
</code></pre>
<p>ã“ã†ã‚„ã¦ã€iframe ãŒèª­ã¿è¾¼ã¾ã‚ŒãŸã¨ãã« Godot å´ã® <code>godot</code> ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚</p>
<p><strong>iframe ã‚’å…¨ç”»é¢è¡¨ç¤º</strong></p>
<p>å…ˆã»ã©ã® <code>game</code> å¤‰æ•°ã‚’ä½¿ã£ã¦ã€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã§ iframe ã‚’å…¨ç”»é¢è¡¨ç¤ºã§ãã¾ã™ã€‚</p>
<pre><code class="js">game.requestFullscreen();
</code></pre>
<p><button class="button-77" role="button" height="50px" width="50px" onclick="game.requestFullscreen();">å…¨ç”»é¢è¡¨ç¤º</button></p>
<script>
function onIframeLoaded() {
  game = document.getElementById("game")
  godot = game.contentWindow.godot;
}
</script>

    </div>
    
    
    
    <div id="comment">
        <div id="gitalk-container"></div>
    </div>
    
    
    
    
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2025 LunarEclipse&#39;s Home
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;Lunar Eclipse
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>
    
    

<script>
    console.log("gitalk path: ", decodeURI(location.pathname).substring(0, 50));
    const gitalk = new Gitalk({
        clientID: "1b257199da39cd021fa4",
        clientSecret: "03478a1dd851368fe32a4eea9483c00ce041e3a2",
        repo: "949886.github.io",
        owner: "949886",
        admin: "949886".split(","),
        language: "en",
        id: decodeURI(location.pathname),
        
    })
    gitalk.render("gitalk-container");
</script>




    
</body>
</html>
